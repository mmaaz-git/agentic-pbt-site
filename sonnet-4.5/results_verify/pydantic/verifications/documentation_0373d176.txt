DOCUMENTATION FINDINGS FOR pydantic.alias_generators.to_snake

SOURCE CODE REVIEW:
The function is implemented in pydantic/alias_generators.py. The docstring states:
"Convert a PascalCase, camelCase, or kebab-case string to snake_case."

FUNCTION BEHAVIOR ACCORDING TO DOCUMENTATION:
- Purpose: Convert strings from PascalCase, camelCase, or kebab-case to snake_case
- Input: A string in one of the mentioned formats
- Output: The converted string in snake_case
- The function applies several regex transformations and converts to lowercase

IMPLEMENTATION DETAILS:
The function performs these transformations in order:
1. Handle uppercase sequences followed by lowercase (e.g., HTTPResponse -> HTTP_Response)
2. Insert underscore between lowercase and uppercase (e.g., camelCase -> camel_Case)
3. Insert underscore between digit and uppercase (e.g., version2A -> version2_A)
4. Insert underscore between lowercase and digit (e.g., version2 -> version_2)
5. Replace hyphens with underscores (kebab-case handling)
6. Convert entire string to lowercase

KEY OBSERVATION ABOUT DOCUMENTATION:
The documentation does NOT specify:
- That the function should be idempotent
- What happens when the input is already in snake_case
- That applying the function multiple times should produce the same result
- Any guarantees about round-trip conversions or stability

The function is described as converting FROM specific formats (PascalCase, camelCase, kebab-case) TO snake_case. There is no mention that it should handle snake_case input specially or preserve it unchanged.

INTENDED USE CASE:
Based on the documentation and context, to_snake appears designed as a one-way transformation function for use as an alias_generator in Pydantic models. It's meant to convert field names from common naming conventions to snake_case during model configuration, not as a general-purpose string transformer that needs to be idempotent.

SIMILAR FUNCTIONS:
The module also contains to_pascal and to_camel functions. The to_camel function has special logic to detect if a string is already in camelCase and returns it unchanged, but to_snake has no such detection logic for snake_case strings.