# Documentation Analysis

## scipy.integrate.simpson Documentation

The official documentation for scipy.integrate.simpson states:

1. **Purpose**: "Integrate y(x) using samples along the given axis and the composite Simpson's rule."

2. **Accuracy Notes**:
   - "For an odd number of samples that are equally spaced the result is exact if the function is a polynomial of order 3 or less"
   - "If the samples are not equally spaced, then the result is exact only if the function is a polynomial of order 2 or less"

3. **No mention of reversal property**: The documentation does not explicitly state that the function should respect the integral reversal property (∫ₐᵇ f(x)dx = -∫ᵇₐ f(x)dx).

4. **No warnings about even n**: The documentation does not warn users about any special behavior or limitations when using an even number of points.

## scipy.integrate.trapezoid Documentation

In contrast, the trapezoid function documentation explicitly states:
- "Using a decreasing x corresponds to integrating in reverse"
- Provides an example showing that integrate.trapezoid([1, 2, 3], x=[8, 6, 4]) returns -8.0 (negative of the forward integral)

This establishes that scipy's integration functions are expected to handle the reversal property correctly.

## Mathematical Background

1. **Simpson's Rule**: According to Wikipedia and mathematical references, composite Simpson's rule typically requires an even number of intervals (odd number of points). The Cartwright method is used for handling cases with an even number of points.

2. **Reversal Property**: While not explicitly mentioned in Simpson's rule documentation, the reversal property (∫ₐᵇ f(x)dx = -∫ᵇₐ f(x)dx) is a fundamental mathematical property of integrals that any numerical integration method should preserve.

3. **Source Code Comments**: The implementation references Cartwright's paper and Wikipedia for the correction formula used when n is even. The comments acknowledge that the correction is for "the last interval" and is asymmetric.

## Documentation Gaps

1. The simpson function documentation does not mention:
   - The expected behavior for reversal of integration direction
   - Any limitations or special behavior for even number of points
   - That the Cartwright correction may break mathematical properties

2. The documentation does not warn users that:
   - Using an even number of points may give results that violate fundamental integral properties
   - The function behaves differently for even vs odd number of points beyond just accuracy

## Conclusion

While the documentation doesn't explicitly promise that the reversal property will hold, this is a fundamental mathematical property that users would reasonably expect from any numerical integration method. The fact that trapezoid explicitly documents and correctly implements this property suggests it's an expected feature of scipy's integration functions. The simpson documentation should either:
1. Warn users about this limitation when n is even, or
2. The implementation should be fixed to preserve the reversal property