DOCUMENTATION ANALYSIS
======================

## Function Purpose
According to the documentation, `is_valid_dm` is designed to validate whether an input array is a valid distance matrix. A valid distance matrix must be:
1. Two-dimensional (square matrix)
2. Symmetric (within tolerance)
3. Have zeros on the diagonal (within tolerance)

## Expected Behavior for Invalid Matrices
The documentation states:
- When `throw=True`: "An exception is thrown if the distance matrix passed is not valid"
- The `name` parameter is "useful if throw is set to True so the offending variable can be identified in the exception message"

## Exception Type
The documentation does not explicitly specify what type of exception should be raised, but examining the code shows that `ValueError` is consistently used throughout the function for all validation errors:
- Line 2581-2582: ValueError for non-2D matrices (with name)
- Line 2584-2585: ValueError for non-2D matrices (without name)
- Line 2589: ValueError for non-symmetric matrices (with name)
- Line 2591: ValueError for non-symmetric matrices (without name)
- Line 2594: ValueError for non-zero diagonal (with name, tol=0)
- Line 2596: ValueError for non-zero diagonal (without name, tol=0)
- Line 2600-2601: ValueError for non-symmetric within tolerance (with name)
- Line 2603-2604: ValueError for non-symmetric within tolerance (without name)
- Line 2607-2608: ValueError for diagonal not close to zero (with name)
- Line 2610-2611: INTENDED to be ValueError for diagonal not close to zero (without name)

## Conclusion
The documentation's contract is that when `throw=True` and the matrix is invalid, an exception should be raised. The code consistently uses `ValueError` for all validation failures. The TypeError that occurs at line 2610-2611 is NOT the intended exception type - it's a programming error in the string formatting code that prevents the intended ValueError from being raised.

The function should raise ValueError with a descriptive message, not crash with TypeError due to incorrect string formatting.