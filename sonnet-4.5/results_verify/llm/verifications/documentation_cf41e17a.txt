## Documentation Analysis for truncate_string

### Function Documentation (from docstring):
The function has a clear docstring that states:
- **Purpose**: "Truncate a string to a maximum length"
- **Parameters**:
  - `text`: The string to truncate
  - `max_length`: "Maximum length of the result string" (default 100)
  - `normalize_whitespace`: Replace all whitespace with single space
  - `keep_end`: Keep both beginning and end of string
- **Returns**: "Truncated string"

### Key Documentation Points:

1. **The Contract**: The docstring explicitly states that `max_length` is the "Maximum length of the result string". This is an unambiguous contract that the returned string should not exceed max_length characters.

2. **No Minimum max_length Documented**: The documentation does NOT specify any minimum value for max_length or state that max_length must be >= 3 for the ellipsis.

3. **No Exception Documentation**: The docstring does not mention that the function might raise exceptions or have undefined behavior for certain max_length values.

4. **Usage Context**: The function is used extensively in `cli.py` for truncating display output in the command-line interface, with default max_length=100. This suggests it's a user-facing feature for display formatting.

5. **Implementation Details Not Documented**: The code has a comment about "Minimum sensible length for keep_end is 9 characters" but this is an implementation detail, not part of the documented API contract. The fallback behavior for small max_length is also not documented.

### External Documentation:
- Could not find specific external documentation for this function on the project website or GitHub
- The function appears to be an internal utility function, but is used for user-visible output formatting
- No tests were found in the installed package (tests may be in the source repo but not distributed)

### Conclusion:
The documented contract is clear: the function should return a string with length <= max_length. The documentation makes no exceptions for small values of max_length.