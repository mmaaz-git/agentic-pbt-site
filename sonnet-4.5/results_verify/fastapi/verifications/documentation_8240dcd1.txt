## Documentation Analysis Report

### Official Starlette Documentation

The official Starlette documentation for HTTPSRedirectMiddleware is minimal and does not specify port handling behavior. The documentation only states:

"Enforces that all incoming requests must either be `https` or `wss`. Any incoming requests to `http` or `ws` will be redirected to the secure scheme instead."

**Key findings:**
- No specification about which ports should or should not be stripped
- No mention of how to handle non-standard ports
- No configuration options for port handling

### RFC Standards and Conventions

Based on web standards and RFCs:

1. **Standard Ports**:
   - HTTP: Port 80 (RFC 7230)
   - HTTPS: Port 443 (RFC 1700, RFC 7230)
   - WS: Port 80 (same as HTTP)
   - WSS: Port 443 (same as HTTPS)

2. **URL Port Handling Convention**:
   - Standard ports for a scheme are typically omitted from URLs
   - Non-standard ports must be explicitly included in URLs

3. **Expected Behavior**:
   - When redirecting from HTTP (port 80) to HTTPS, omitting the port is correct
   - When redirecting from HTTP on any non-standard port (including 443) to HTTPS, the port should be preserved

### Community Discussions

GitHub discussions reveal:
- Issue #1885: Request for HTTPSRedirectMiddleware to accept optional HTTPS port parameter
- Known limitation: The middleware currently lacks flexibility for different port configurations
- Previous fix: "Don't drop explicit port numbers on redirects" indicates port preservation was considered important

### Documentation Gaps

The documentation lacks:
1. Specification of port handling behavior
2. Examples showing port preservation/stripping scenarios
3. Clarification on standard vs. non-standard port handling
4. Configuration options for custom port mappings

### Conclusion

The documentation does not explicitly define the expected port handling behavior. However, based on web standards and conventions, the current implementation's behavior of unconditionally stripping port 443 regardless of source scheme is not aligned with standard practices. The bug report's assertion that port 443 should be preserved when redirecting from HTTP:443 to HTTPS is reasonable and follows standard URL conventions.