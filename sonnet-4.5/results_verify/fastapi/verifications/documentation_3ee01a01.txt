## Documentation Analysis Report

### TrustedHostMiddleware Documentation
The TrustedHostMiddleware class in Starlette has minimal documentation:
- The class docstring is absent
- Only type hints are provided for the constructor parameters
- No explicit documentation about IPv6 support or host header parsing behavior

### RFC 3986 Compliance
According to RFC 3986 (Uniform Resource Identifier Generic Syntax):

1. **Section 3.2.2 - Host**:
   - IPv6 addresses MUST be enclosed in square brackets when used in URIs
   - Format: `IP-literal = "[" ( IPv6address / IPvFuture ) "]"`
   - This is the ONLY place where square brackets are allowed in URI syntax

2. **Why Brackets Are Required**:
   - IPv6 addresses contain colons (e.g., "2001:db8::1")
   - Colons conflict with the port delimiter in URIs (host:port)
   - Brackets disambiguate the IPv6 address from the port number
   - Example: "[2001:db8::1]:8080" clearly separates address from port

3. **HTTP Host Header**:
   - RFC 7230 section 5.4 references RFC 3986 for host format
   - HTTP Host headers follow the same bracketing rules
   - Valid format: `Host: [::1]:8080`

### Historical Context
- RFC 2732 originally defined IPv6 literals in URLs (now obsoleted by RFC 3986)
- The bracket notation has been standard since 1999
- This is a well-established standard, not an edge case

### Expected Behavior
Based on the RFCs, TrustedHostMiddleware SHOULD:
1. Recognize bracketed IPv6 addresses in Host headers
2. Extract the IPv6 address from within the brackets
3. Compare the extracted address against allowed_hosts
4. Support both IPv4 and IPv6 addresses seamlessly

### Current Implementation Gap
The middleware's current implementation:
- Does not handle the RFC-compliant bracket notation
- Splits naively on ":" which breaks for IPv6
- Has no documentation mentioning IPv6 support or limitations
- Violates RFC 3986 compliance for IPv6 host parsing

### Conclusion
The lack of IPv6 support is not documented as a limitation. Given that:
1. IPv6 is a core internet standard (not an obscure feature)
2. RFC 3986 clearly defines the expected format
3. The middleware accepts host headers (which can contain IPv6)
4. No documentation warns about IPv6 incompatibility

This is a legitimate bug - the code fails to implement a required standard for host header parsing.