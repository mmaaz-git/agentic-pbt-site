## Bug Reproduction Results

I successfully reproduced the bug described in the report. Here are the findings:

### Hypothesis Test Results:
The hypothesis-based test immediately found a failing case with `extension='.xpt', suffix='0'`, creating a filename like `file.xpt0`. This file was incorrectly detected as an xport format file, resulting in the error "Header record is not an XPORT file" instead of the expected "unable to infer format" error.

### Manual Test Results:

1. **file.xpt0**: INCORRECTLY detected as xport format
   - Error: "Header record is not an XPORT file"
   - This confirms the bug - the file should not be detected as xport

2. **data.xpt.backup**: INCORRECTLY detected as xport format
   - Error: "Header record is not an XPORT file"
   - This confirms the bug - backup files should not be detected as xport

3. **myxptfile.txt**: Correctly NOT detected as xport format
   - Error: "unable to infer format of SAS file"
   - This works correctly because ".xpt" appears before ".txt" in the filename

4. **valid.xpt**: Correctly detected as xport format
   - Error: "Header record is not an XPORT file"
   - This is expected - the file is correctly identified as xport format

5. **file.sas7bdat0**: INCORRECTLY detected as sas7bdat format
   - Error: "magic number mismatch (not a SAS file?)"
   - This confirms the bug affects both formats

6. **data.sas7bdat.backup**: INCORRECTLY detected as sas7bdat format
   - Error: "magic number mismatch (not a SAS file?)"
   - This confirms the bug affects backup files too

### Technical Analysis:

The bug occurs because the code uses substring matching (`if ".xpt" in fname`) instead of proper extension checking (`if fname.endswith(".xpt")`). This causes any file with ".xpt" or ".sas7bdat" anywhere in its name to be incorrectly identified as a SAS file.

The errors differ between formats:
- xport format: "Header record is not an XPORT file" (attempts to read as xport)
- sas7bdat format: "magic number mismatch" (attempts to read as sas7bdat)
- Unrecognized: "unable to infer format" (correct behavior for non-SAS files)

This confirms the bug report is accurate and the suggested fix would resolve the issue.