# Bug Report: pandas.errors.AbstractMethodError Swapped Variables in Error Message

**Target**: `pandas.errors.AbstractMethodError`
**Severity**: Low
**Bug Type**: Contract
**Date**: 2025-09-25

## Summary

When passing an invalid `methodtype` parameter to `AbstractMethodError.__init__`, the error message has swapped variables, displaying the invalid value where valid options should be listed and vice versa.

## Property-Based Test

```python
from hypothesis import given, strategies as st, example
import pandas.errors
import pytest


@given(st.text().filter(lambda x: x not in ['method', 'classmethod', 'staticmethod', 'property']))
@example('invalid_type')  # Specific example to demonstrate the bug
def test_abstract_method_error_invalid_types(invalid_methodtype):
    """Test that AbstractMethodError produces correct error message for invalid methodtypes."""
    class DummyClass:
        pass

    instance = DummyClass()

    with pytest.raises(ValueError) as exc_info:
        pandas.errors.AbstractMethodError(instance, methodtype=invalid_methodtype)

    error_message = str(exc_info.value)

    # The error message should be:
    # "methodtype must be one of {'method', 'classmethod', 'staticmethod', 'property'}, got invalid_methodtype instead."
    # But currently it is:
    # "methodtype must be one of invalid_methodtype, got {'method', 'classmethod', 'staticmethod', 'property'} instead."

    # Check that the message contains the required parts
    assert 'methodtype must be one of' in error_message

    # This assertion would fail with the current bug - the message has variables swapped
    # We expect: "methodtype must be one of {valid_types}, got {invalid_methodtype} instead."
    # But we get: "methodtype must be one of {invalid_methodtype}, got {valid_types} instead."

    # For now, just document what we actually get
    print(f"Input: {repr(invalid_methodtype)}")
    print(f"Error message: {error_message}")


if __name__ == '__main__':
    # Run with a specific example
    test_abstract_method_error_invalid_types('invalid_type')
```

<details>

<summary>
**Failing input**: `invalid_methodtype='invalid_type'`
</summary>
```
============================= test session starts ==============================
platform linux -- Python 3.13.2, pytest-8.4.1, pluggy-1.5.0 -- /home/npc/miniconda/bin/python3
cachedir: .pytest_cache
hypothesis profile 'default'
rootdir: /home/npc/pbt/agentic-pbt/worker_/18
plugins: anyio-4.9.0, hypothesis-6.139.1, asyncio-1.2.0, langsmith-0.4.29
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1 item

hypo.py::test_abstract_method_error_invalid_types Input: 'invalid_type'
Error message: methodtype must be one of invalid_type, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: ''
Error message: methodtype must be one of , got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x89√π8\U000c4d477;'
Error message: methodtype must be one of √π8ÛÑµá7;, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'L√Ø\x92¬¨\U0008088a'
Error message: methodtype must be one of L√Ø¬¨ÚÄ¢ä, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'x\U000acf57'
Error message: methodtype must be one of xÚ¨Ωó, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'j\U000c70c6'
Error message: methodtype must be one of jÛáÉÜ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U000c2c44\x03\x0c2\U000732dd\U00060300√ì\x849'
Error message: methodtype must be one of ÛÇ±Ñ2Ò≥ãùÒ†åÄ√ì9, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√ö'
Error message: methodtype must be one of √ö, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x9b\x96'
Error message: methodtype must be one of , got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\\/+'
Error message: methodtype must be one of \/+, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '¢ö≥e´≠ë\U0010948a\x04\U000b832cf'
Error message: methodtype must be one of ¢ö≥e´≠ëÙâíäÚ∏å¨f, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x84\U000aa745\U0003ebda\x85¬Ø\U0003e8e2√ê|9&'
Error message: methodtype must be one of Ú™ùÖæØö¬Øæ£¢√ê|9&, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'P'
Error message: methodtype must be one of P, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U0010b0587$√ã}'
Error message: methodtype must be one of ÙãÅò7$√ã}, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x1b\U000d39f2\x9b√û¬∂\U000192dc\U00077356\x16\x1d√Ø\x02O\x1a{?√í√ªD¬æ\x03\x8em'
Error message: methodtype must be one of Ûìß≤√û¬∂ôãúÒ∑çñ√ØO{?√í√ªD¬æm, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x98'
Error message: methodtype must be one of , got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√Å\x01√ïs\x92'
Error message: methodtype must be one of √Å√ïs, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√¨'
Error message: methodtype must be one of √¨, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x91\U0008fc1a\U000e1972\U000e10aen7√ä[\x85√µA'
Error message: methodtype must be one of Úè∞öÛ°•≤Û°ÇÆn7√ä[√µA, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U000c83f6\U000447de\U00083ed3\x93g'
Error message: methodtype must be one of Ûàè∂ÒÑüûÚÉªìg, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U000f42cb¬Æ\x8b\x0c\x87'
Error message: methodtype must be one of Û¥ãã¬Æ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U0001a287'
Error message: methodtype must be one of öäá, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '1√°f\U000b2710n®öñ√î'
Error message: methodtype must be one of 1√°fÚ≤úên®öñ√î, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x99y'
Error message: methodtype must be one of y, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√®¬∂\xad√π'
Error message: methodtype must be one of √®¬∂¬≠√π, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√∑√ç'
Error message: methodtype must be one of √∑√ç, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\n '
Error message: methodtype must be one of
 , got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U000914a8\x04√™\U001095e4'
Error message: methodtype must be one of Úëí®√™Ùâó§, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√ä]|√î\U0007bd83\U000d85225y'
Error message: methodtype must be one of √ä]|√îÒª∂ÉÛòî¢5y, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U000a0a11¬£.\U0007087fa:k¬°\x98\x05#\x8a'
Error message: methodtype must be one of Ú†®ë¬£.Ò∞°øa:k¬°#, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'Ìõ∫\U000113e4¬¨√Ø\x06|'
Error message: methodtype must be one of Ìõ∫ëè§¬¨√Ø|, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U0004703d¬®\U0006a9d5¬Ω\U000b3897\U000f572adJ¬∞s√±\U0003dedd√ù\x17\U00015bed\U000c0d61¬¨n\x1b='
Error message: methodtype must be one of ÒáÄΩ¬®Ò™ßï¬ΩÚ≥¢óÛµú™dJ¬∞s√±Ωªù√ùïØ≠ÛÄµ°¬¨n=, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U000fc075\x19a'
Error message: methodtype must be one of ÛºÅµa, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x13\x9e¬∫¬®'
Error message: methodtype must be one of ¬∫¬®, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√∂\U00107a78¬¶√∑√ä\U000927fd\x978¬©√ì¬¢'
Error message: methodtype must be one of √∂Ùá©∏¬¶√∑√äÚíüΩ8¬©√ì¬¢, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '_\x88'
Error message: methodtype must be one of _, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'SL\x0e\x89'
Error message: methodtype must be one of SL, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'm¬∏\U0008b208j'
Error message: methodtype must be one of m¬∏Úãààj, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '6'
Error message: methodtype must be one of 6, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√¶√ë5\U00052a3d√∏'
Error message: methodtype must be one of √¶√ë5Òí®Ω√∏, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x0b'
Error message: methodtype must be one of , got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U00070a0a√ìp'
Error message: methodtype must be one of Ò∞®ä√ìp, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x8d'
Error message: methodtype must be one of , got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x85¬®xr√Æ¬¶\x1b¬®\U0005ce0fa\U000631b1√∑f√â\U000e3dddq\xad7\U00090903R:\U0009c1f0√©\U000952d8¬±\U0005bb28\U000acd36'
Error message: methodtype must be one of ¬®xr√Æ¬¶¬®Òú∏èaÒ£Ü±√∑f√âÛ£∑ùq¬≠7Úê§ÉR:Úúá∞√©Úïãò¬±Òõ¨®Ú¨¥∂, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x1c√øD ¬¢\U0005f37b'
Error message: methodtype must be one of √øD ¬¢Òüçª, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x08'
Error message: methodtype must be one of , got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U0008dc23>i\U0008aafb\r\x83\x03V\U00076bb5N'
Error message: methodtype must be one of Úç∞£>iÚä´ªVÒ∂ÆµN, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'üèªüëçüèª'
Error message: methodtype must be one of üèªüëçüèª, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'b+\U0010ffd9b'
Error message: methodtype must be one of b+Ùèøôb, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√æ'
Error message: methodtype must be one of √æ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'TRUE'
Error message: methodtype must be one of TRUE, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x97\U00038229'
Error message: methodtype must be one of ∏à©, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x84y8.'
Error message: methodtype must be one of y8., got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '¬¢h¬£¬∑√å¬∞\U000ea9a7√•'
Error message: methodtype must be one of ¬¢h¬£¬∑√å¬∞Û™¶ß√•, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '?\U0006abcbgy\U000bed7b'
Error message: methodtype must be one of ?Ò™ØãgyÚæµª, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '?\U0006abcbgy\U000bed7b'
Error message: methodtype must be one of ?Ò™ØãgyÚæµª, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√ñ'
Error message: methodtype must be one of √ñ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 's\x98Jr\U000bf518L'
Error message: methodtype must be one of sJrÚøîòL, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x88'
Error message: methodtype must be one of , got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'm√ûId'
Error message: methodtype must be one of m√ûId, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '0¬Æ√Ω√í'
Error message: methodtype must be one of 0¬Æ√Ω√í, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√¥W'
Error message: methodtype must be one of √¥W, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U0007c25e¬¶\U00084569\x94g\U000dcb7e'
Error message: methodtype must be one of Òºâû¬¶ÚÑï©gÛú≠æ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '¬´\x99\x1b\U000dd6fd\U00066403√†\U001060baD√†\U000afaa0\x92†ì∑\U000e4efc\U000c91d6√å'
Error message: methodtype must be one of ¬´ÛùõΩÒ¶êÉ√†ÙÜÇ∫D√†ÚØ™††ì∑Û§ªºÛâáñ√å, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√®¬∂\U000ed6f8'
Error message: methodtype must be one of √®¬∂Û≠õ∏, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U00019bd8'
Error message: methodtype must be one of ôØò, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√π\U000a8947\\√≥\x1c'
Error message: methodtype must be one of √πÚ®•á\√≥, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: "'\x85"
Error message: methodtype must be one of ', got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\\√πD\x91vz\U000ef60a'
Error message: methodtype must be one of \√πDvzÛØòä, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: ':\x96√Å√∂¬¶'
Error message: methodtype must be one of :√Å√∂¬¶, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√º~'
Error message: methodtype must be one of √º~, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x01êê∫.\x9b\x1eo¬πH¬°\U000678d1\U00071831√Å\U00063e47√§√ö-¬ø!√ë\x0e\U000b8cd1\U000aa83e\x7f√ö\x92Á≠Ü√©'
Error message: methodtype must be one of êê∫.o¬πH¬°Òß£ëÒ±†±√ÅÒ£πá√§√ö-¬ø!√ëÚ∏≥ëÚ™†æ√öÁ≠Ü√©, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '¬ß\U0008fec97\x0c \U00094a84'
Error message: methodtype must be one of ¬ßÚèªâ7 Úî™Ñ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\xa0\U0010e356\x07'
Error message: methodtype must be one of  Ùéçñ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '*\x1f\x0e\x13'
Error message: methodtype must be one of *, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√ú!|I√ã\x16'
Error message: methodtype must be one of √ú!|I√ã, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√∫\x7f√≥g$√∂¬µÊ≥™\x89j\x07√Ω¬Ωo\x91\U0010bb8b'
Error message: methodtype must be one of √∫√≥g$√∂¬µÊ≥™j√Ω¬ΩoÙãÆã, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√£√£+\x99L'
Error message: methodtype must be one of √£√£+L, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'w≠ñ¢q\U00047895\U000c08be'
Error message: methodtype must be one of w≠ñ¢qÒá¢ïÛÄ¢æ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U000436f8\x92'
Error message: methodtype must be one of ÒÉõ∏, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '¬±√Ü}\x94\x0f√™√æ'
Error message: methodtype must be one of ¬±√Ü}√™√æ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√Ü\x9c√ë√∏\U0004b87f'
Error message: methodtype must be one of √Ü√ë√∏Òã°ø, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'G\U00080472'
Error message: methodtype must be one of GÚÄë≤, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U0009d6e2√ï\U0009251e\U000710b8*\x06vK.\x04√Ü\U0010c188E√Ø\x0c\U001051ed√∑\U0003ceab'
Error message: methodtype must be one of Úùõ¢√ïÚíîûÒ±Ç∏*vK.√ÜÙåÜàE√ØÙÖá≠√∑º∫´, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: ' ¬•\U000a0e4a'
Error message: methodtype must be one of  ¬•Ú†πä, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x8eùú¥'
Error message: methodtype must be one of ùú¥, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x86√ë'
Error message: methodtype must be one of √ë, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '¬™'
Error message: methodtype must be one of ¬™, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\ueaa2√•\U0001c3f1\x06\xa01'
Error message: methodtype must be one of √•úè± 1, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U000e1028\x1c\U0001a8ce'
Error message: methodtype must be one of Û°Ä®ö£é, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U0004e7b0¬®\U000397e1\x90\x9c\x0e'
Error message: methodtype must be one of Òéû∞¬®πü°, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '2'
Error message: methodtype must be one of 2, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√Ñ'
Error message: methodtype must be one of √Ñ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\x000'
Error message: methodtype must be one of  0, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '¬§√®\U000bb311¨ãØ'
Error message: methodtype must be one of ¬§√®Úªåë¨ãØ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\U00103e94\x87\x89¬Æ'
Error message: methodtype must be one of ÙÉ∫î¬Æ, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '¬§¬ª\x96<G'
Error message: methodtype must be one of ¬§¬ª<G, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '\\¬∏\x7f'
Error message: methodtype must be one of \¬∏, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '&\x14H\x9e¬∂\U000a1a19'
Error message: methodtype must be one of &H¬∂Ú°®ô, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: '√±'
Error message: methodtype must be one of √±, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
Input: 'v\x0f√ç'
Error message: methodtype must be one of v√ç, got {'property', 'classmethod', 'method', 'staticmethod'} instead.
PASSED

============================== 1 passed in 0.38s ===============================
```
</details>

## Reproducing the Bug

```python
import pandas.errors


class DummyClass:
    pass


instance = DummyClass()

try:
    pandas.errors.AbstractMethodError(instance, methodtype='invalid_type')
except ValueError as e:
    print(str(e))
```

<details>

<summary>
ValueError: methodtype must be one of invalid_type, got {'method', 'property', 'classmethod', 'staticmethod'} instead.
</summary>
```
methodtype must be one of invalid_type, got {'method', 'property', 'classmethod', 'staticmethod'} instead.
```
</details>

## Why This Is A Bug

The error message format violates the universal convention for validation errors, which follows the pattern "expected X, got Y". The current implementation has the f-string template variables reversed, producing a message that says "methodtype must be one of invalid_type" when it should say "methodtype must be one of {'method', 'classmethod', 'staticmethod', 'property'}".

This makes the error message actively misleading and confusing for developers. When a developer passes an invalid methodtype, they need to know what the valid options are, but the current message shows their invalid input where the valid options should be listed. While the validation logic works correctly (invalid methodtypes are properly rejected), the swapped variables in the error message format can cause unnecessary debugging time and confusion.

## Relevant Context

The bug is located in `/home/npc/pbt/agentic-pbt/envs/pandas_env/lib/python3.13/site-packages/pandas/errors/__init__.py` at line 298. The AbstractMethodError class is used internally by pandas to provide better error messages than the standard NotImplementedError for abstract methods. The `methodtype` parameter accepts only four valid values: 'method', 'classmethod', 'staticmethod', and 'property'.

The pandas documentation shows examples of using this error with valid methodtype values but does not specify the exact format of the ValueError message for invalid inputs. However, error message conventions across the Python ecosystem consistently use the "expected X, got Y" format.

## Proposed Fix

```diff
--- a/pandas/errors/__init__.py
+++ b/pandas/errors/__init__.py
@@ -295,7 +295,7 @@ class AbstractMethodError(NotImplementedError):
         types = {"method", "classmethod", "staticmethod", "property"}
         if methodtype not in types:
             raise ValueError(
-                f"methodtype must be one of {methodtype}, got {types} instead."
+                f"methodtype must be one of {types}, got {methodtype} instead."
             )
         self.methodtype = methodtype
```