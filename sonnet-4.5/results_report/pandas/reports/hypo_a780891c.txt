============================= test session starts ==============================
platform linux -- Python 3.13.2, pytest-8.4.1, pluggy-1.5.0 -- /home/npc/miniconda/bin/python3
cachedir: .pytest_cache
hypothesis profile 'default'
rootdir: /home/npc/pbt/agentic-pbt/worker_/22
plugins: anyio-4.9.0, hypothesis-6.139.1, asyncio-1.2.0, langsmith-0.4.29
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1 item

hypo.py::test_rangeindex_shallow_copy_with_equally_spaced_values FAILED  [100%]

=================================== FAILURES ===================================
___________ test_rangeindex_shallow_copy_with_equally_spaced_values ____________

    @given(
>       st.integers(min_value=-1000, max_value=1000),
                   ^^^
        st.integers(min_value=-1000, max_value=1000),
        st.integers(min_value=-100, max_value=100).filter(lambda x: x != 0)
    )

hypo.py:7: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

start = 0, stop = 1, step = 1

    @given(
        st.integers(min_value=-1000, max_value=1000),
        st.integers(min_value=-1000, max_value=1000),
        st.integers(min_value=-100, max_value=100).filter(lambda x: x != 0)
    )
    def test_rangeindex_shallow_copy_with_equally_spaced_values(start, stop, step):
        """RangeIndex._shallow_copy should return RangeIndex for equally spaced values."""
        ri = RangeIndex(start, stop, step)
        if len(ri) == 0:
            return
    
        values = np.array(list(ri))
        result = ri._shallow_copy(values)
    
        # BUG: Fails for single-element ranges
>       assert isinstance(result, RangeIndex), \
            f"Expected RangeIndex for equally-spaced values, got {type(result)}"
E       AssertionError: Expected RangeIndex for equally-spaced values, got <class 'pandas.core.indexes.base.Index'>
E       assert False
E        +  where False = isinstance(Index([0], dtype='int64'), RangeIndex)
E       Falsifying example: test_rangeindex_shallow_copy_with_equally_spaced_values(
E           start=0,
E           stop=1,
E           step=1,
E       )
E       Explanation:
E           These lines were always and only run by failing examples:
E               /home/npc/miniconda/lib/python3.13/site-packages/pandas/core/indexes/base.py:667
E               /home/npc/miniconda/lib/python3.13/site-packages/pandas/core/indexes/base.py:1354
E               /home/npc/miniconda/lib/python3.13/site-packages/pandas/core/indexes/range.py:481

hypo.py:21: AssertionError
=========================== short test summary info ============================
FAILED hypo.py::test_rangeindex_shallow_copy_with_equally_spaced_values - Ass...
============================== 1 failed in 0.51s ===============================
