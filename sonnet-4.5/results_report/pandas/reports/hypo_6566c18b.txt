============================= test session starts ==============================
platform linux -- Python 3.13.2, pytest-8.4.1, pluggy-1.5.0 -- /home/npc/miniconda/bin/python3
cachedir: .pytest_cache
hypothesis profile 'default'
rootdir: /home/npc/pbt/agentic-pbt/worker_/38
plugins: anyio-4.9.0, hypothesis-6.139.1, asyncio-1.2.0, langsmith-0.4.29
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1 item

hypo.py::test_validate_integer_respects_min_val_for_floats FAILED        [100%]

=================================== FAILURES ===================================
______________ test_validate_integer_respects_min_val_for_floats _______________

    @settings(max_examples=500)
>   @given(
            
        val=st.floats(allow_nan=False, allow_infinity=False),
        min_val=st.integers(min_value=0, max_value=1000)
    )

hypo.py:7: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

val = -1.0, min_val = 0

    @settings(max_examples=500)
    @given(
        val=st.floats(allow_nan=False, allow_infinity=False),
        min_val=st.integers(min_value=0, max_value=1000)
    )
    def test_validate_integer_respects_min_val_for_floats(val, min_val):
        if val != int(val):
            return
    
        if int(val) >= min_val:
            result = validate_integer("test", val, min_val)
            assert result >= min_val
        else:
>           with pytest.raises(ValueError, match="must be an integer"):
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E           Failed: DID NOT RAISE <class 'ValueError'>
E           Falsifying example: test_validate_integer_respects_min_val_for_floats(
E               val=-1.0,
E               min_val=0,  # or any other generated value
E           )
E           Explanation:
E               These lines were always and only run by failing examples:
E                   /home/npc/pbt/agentic-pbt/worker_/38/hypo.py:19

hypo.py:19: Failed
=========================== short test summary info ============================
FAILED hypo.py::test_validate_integer_respects_min_val_for_floats - Failed: D...
============================== 1 failed in 0.62s ===============================
