/home/npc/miniconda/lib/python3.13/site-packages/numpy/_core/fromnumeric.py:46: RuntimeWarning: invalid value encountered in divide
  result = getattr(arr, method)(*args, **kwds)
/home/npc/miniconda/lib/python3.13/site-packages/numpy/_core/fromnumeric.py:46: RuntimeWarning: invalid value encountered in divide
  result = getattr(arr, method)(*args, **kwds)
=== Testing pandas.cut with subnormal floats ===

Test 1: Positive subnormal values
----------------------------------------
Input values: [0.0, 2.225e-313]
Input Series:
0     0.000000e+00
1    2.225000e-313
dtype: float64

Result of pd.cut(s, bins=2):
0    NaN
1    NaN
dtype: category
Categories (0, interval[float64, right]): []
Result as list: [nan, nan]
All values are NaN: True

Test 2: Negative subnormal values
----------------------------------------
Input values: [0.0, -2.225e-313]
Input Series:
0     0.000000e+00
1   -2.225000e-313
dtype: float64

ERROR: ValueError: missing values must be missing in the same location both left and right sides

Test 3: Values that work (range >= 1e-300)
----------------------------------------
Input values: [0.0, 1e-300]
Input Series:
0     0.000000e+00
1    1.000000e-300
dtype: float64

Result of pd.cut(s_ok, bins=2):
0    (-1.0000000000000001e-303, 5e-301]
1      (5e-301, 9.999999999999999e-301]
dtype: category
Categories (2, interval[float64, right]): [(-1.0000000000000001e-303, 5e-301] < (5e-301, 9.999999999999999e-301]]
Result as list: [Interval(-1.0000000000000001e-303, 5e-301, closed='right'), Interval(5e-301, 9.999999999999999e-301, closed='right')]
All values are NaN: False
