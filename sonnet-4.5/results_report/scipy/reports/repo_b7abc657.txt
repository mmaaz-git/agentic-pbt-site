=== Testing savemat with appendmat=True ===
Filename provided: /tmp/tmpopu8gqez/test
appendmat parameter: True

Files created in directory:
  Actual: ['test']
  Expected: ['test.mat']

File existence check:
  'test.mat' exists: False
  'test' exists: True

=== Verifying the bug ===
BUG CONFIRMED: savemat created 'test' instead of 'test.mat' when appendmat=True

=== Testing loadmat for comparison ===
Now testing if loadmat correctly handles appendmat=True...
Saved file with explicit .mat: /tmp/tmpopu8gqez/test2.mat
Loading with filename: /tmp/tmpopu8gqez/test2 and appendmat=True
SUCCESS: loadmat correctly found 'test2.mat' when given 'test2' with appendmat=True
Loaded data: [[1 2 3]]

=== Summary ===
savemat with appendmat=True: FAILS to append .mat extension
loadmat with appendmat=True: CORRECTLY appends .mat extension
This inconsistency confirms the bug in savemat.
