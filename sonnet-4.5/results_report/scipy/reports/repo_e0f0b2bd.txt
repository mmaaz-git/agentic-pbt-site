flattop(3, sym=True) = [-4.21051e-04  1.00000e+00 -4.21051e-04]
max value = 1.000000003000000
exceeds 1.0? True

Additional test cases:
  M=2, sym=False: max = 1.000000003000000 (exceeds 1.0)
  M=3, sym=True: max = 1.000000003000000 (exceeds 1.0)
  M=4, sym=False: max = 1.000000003000000 (exceeds 1.0)
  M=5, sym=True: max = 1.000000003000000 (exceeds 1.0)
  M=10, sym=False: max = 1.000000003000000 (exceeds 1.0)

Coefficients sum = 1.000000003000000
Exceeds 1.0 by: 3.000000026176508e-09
Traceback (most recent call last):
  File "/home/npc/pbt/agentic-pbt/worker_/3/repo.py", line 28, in <module>
    assert max_val <= 1.0, f"Maximum value {max_val} exceeds documented limit of 1.0"
           ^^^^^^^^^^^^^^
AssertionError: Maximum value 1.000000003 exceeds documented limit of 1.0
