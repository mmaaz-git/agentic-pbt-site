Original line:
'    def example_function():'

Buggy result (missing semicolons):
'&nbsp&nbsp&nbsp&nbspdef&nbspexample_function():'

Correct result (with semicolons):
'&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;example_function():'

==================================================
Another example with multiple spaces:
Original: '        return x + y  # Add two numbers'
Buggy:    '&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspreturn&nbspx&nbsp+&nbspy&nbsp&nbsp#&nbspAdd&nbsptwo&nbspnumbers'
Correct:  '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;x&nbsp;+&nbsp;y&nbsp;&nbsp;#&nbsp;Add&nbsp;two&nbsp;numbers'

The difference:
Invalid entity: '&nbsp' (no semicolon)
Valid entity:   '&nbsp;' (with semicolon)

According to HTML spec, named character references MUST end with semicolon.
