Headers before: ['X-Custom-Header', 'X_Forwarded_For', 'User_Agent', 'X_Real_IP', 'Content-Type']
Headers with underscores: ['X_Forwarded_For', 'User_Agent', 'X_Real_IP']

Executing Django's buggy pattern:
for k in headers_dict:
    if '_' in k:
        del headers_dict[k]

RuntimeError: dictionary changed size during iteration

Headers after: ['X-Custom-Header', 'User_Agent', 'X_Real_IP', 'Content-Type']
Headers with underscores remaining: ['User_Agent', 'X_Real_IP']

BUG CONFIRMED: Not all headers with underscores were removed!
This defeats the security measure meant to prevent header spoofing.
